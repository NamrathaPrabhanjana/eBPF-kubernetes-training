
- Setup a simple ebpf test pod to deploy on the kube cluster (from helloworld folder)
  - Setup container
    - Build: docker build . -t helloworld:1.0 (with Dockerfile in helloworld)
    - Execute: docker run -u root -v /sys/kernel/debug:/sys/kernel/debug:Z --privileged -it helloworld:1.0 bash
    - Execute the sample bpf program within the container: ./helloworld-map.py (python3 helloworld-map.py)
  - Copy the created container to microk8s' registry
    - docker save helloworld:1.0 > helloworld-1-0.tar 
    - microk8s ctr image import helloworld-1-0.tar
    - microk8s ctr image ls
  - Setup pod (with the above container) as a daemonset
    - microk8s kubectl apply -f helloworld-deployment.yml
    - microk8s kubectl get pods
  - Ensure pod is running well
    - microk8s kubectl logs <podname>
    - microk8s kubectl describe pod <podname>
  - View the attached bpf program and map contents
    - bpftool prog list
    - bpftool prog map dump id <>
  - To delete pod (it'd get restarted again)
    - microk8s kubectl delete pod <podname>
  - To delete pod (and make it unschedulable again)
    - microk8s kubectl delete -f helloworld-deployment.yml

